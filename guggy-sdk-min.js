!function(){!function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=c():"function"==typeof define&&define.amd?define(c):b[a]=c()}("reqwest",this,function(){function succeed(a){var b=protocolRe.exec(a.url);return b=b&&b[1]||context.location.protocol,httpsRe.test(b)?twoHundo.test(a.request.status):!!a.request.response}function handleReadyState(a,b,c){return function(){return a._aborted?c(a.request):a._timedOut?c(a.request,"Request is aborted: timeout"):void(a.request&&4==a.request[readyState]&&(a.request.onreadystatechange=noop,succeed(a)?b(a.request):c(a.request)))}}function setHeaders(a,b){var d,c=b.headers||{};c.Accept=c.Accept||defaultHeaders.accept[b.type]||defaultHeaders.accept["*"];var e="undefined"!=typeof FormData&&b.data instanceof FormData;!b.crossOrigin&&!c[requestedWith]&&(c[requestedWith]=defaultHeaders.requestedWith),!c[contentType]&&!e&&(c[contentType]=b.contentType||defaultHeaders.contentType);for(d in c)c.hasOwnProperty(d)&&"setRequestHeader"in a&&a.setRequestHeader(d,c[d])}function setCredentials(a,b){"undefined"!=typeof b.withCredentials&&"undefined"!=typeof a.withCredentials&&(a.withCredentials=!!b.withCredentials)}function generalCallback(a){lastValue=a}function urlappend(a,b){return a+(/\?/.test(a)?"&":"?")+b}function handleJsonp(a,b,c,d){var e=uniqid++,f=a.jsonpCallback||"callback",g=a.jsonpCallbackName||reqwest.getcallbackPrefix(e),h=new RegExp("((^|\\?|&)"+f+")=([^&]+)"),i=d.match(h),j=doc.createElement("script"),k=0,l=navigator.userAgent.indexOf("MSIE 10.0")!==-1;return i?"?"===i[3]?d=d.replace(h,"$1="+g):g=i[3]:d=urlappend(d,f+"="+g),context[g]=generalCallback,j.type="text/javascript",j.src=d,j.async=!0,"undefined"!=typeof j.onreadystatechange&&!l&&(j.htmlFor=j.id="_reqwest_"+e),j.onload=j.onreadystatechange=function(){return!(j[readyState]&&"complete"!==j[readyState]&&"loaded"!==j[readyState]||k)&&(j.onload=j.onreadystatechange=null,j.onclick&&j.onclick(),b(lastValue),lastValue=void 0,head.removeChild(j),k=1,void 0)},head.appendChild(j),{abort:function(){j.onload=j.onreadystatechange=null,c({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(j),k=1}}}function getRequest(a,b){var g,c=this.o,d=(c.method||"GET").toUpperCase(),e="string"==typeof c?c:c.url,f=c.processData!==!1&&c.data&&"string"!=typeof c.data?reqwest.toQueryString(c.data):c.data||null,h=!1;return("jsonp"==c.type||"GET"==d)&&f&&(e=urlappend(e,f),f=null),"jsonp"==c.type?handleJsonp(c,a,b,e):(g=c.xhr&&c.xhr(c)||xhr(c),g.open(d,e,c.async!==!1),setHeaders(g,c),setCredentials(g,c),context[xDomainRequest]&&g instanceof context[xDomainRequest]?(g.onload=a,g.onerror=b,g.onprogress=function(){},h=!0):g.onreadystatechange=handleReadyState(this,a,b),c.before&&c.before(g),h?setTimeout(function(){g.send(f)},200):g.send(f),g)}function Reqwest(a,b){this.o=a,this.fn=b,init.apply(this,arguments)}function setType(a){if(null!==a)return a.match("json")?"json":a.match("javascript")?"js":a.match("text")?"html":a.match("xml")?"xml":void 0}function init(o,fn){function complete(a){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(a)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(a){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(a){return error(resp,"Could not parse JSON in response",a)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(a,b,c){for(a=self.request,self._responseArgs.resp=a,self._responseArgs.msg=b,self._responseArgs.t=c,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(a,b,c);complete(a)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(a,b){return new Reqwest(a,b)}function normalize(a){return a?a.replace(/\r?\n/g,"\r\n"):""}function serial(a,b){var f,g,h,i,c=a.name,d=a.tagName.toLowerCase(),e=function(a){a&&!a.disabled&&b(c,normalize(a.attributes.value&&a.attributes.value.specified?a.value:a.text))};if(!a.disabled&&c)switch(d){case"input":/reset|button|image|file/i.test(a.type)||(f=/checkbox/i.test(a.type),g=/radio/i.test(a.type),h=a.value,(!f&&!g||a.checked)&&b(c,normalize(f&&""===h?"on":h)));break;case"textarea":b(c,normalize(a.value));break;case"select":if("select-one"===a.type.toLowerCase())e(a.selectedIndex>=0?a.options[a.selectedIndex]:null);else for(i=0;a.length&&i<a.length;i++)a.options[i].selected&&e(a.options[i])}}function eachFormElement(){var b,c,a=this,d=function(b,c){var d,e,f;for(d=0;d<c.length;d++)for(f=b[byTag](c[d]),e=0;e<f.length;e++)serial(f[e],a)};for(c=0;c<arguments.length;c++)b=arguments[c],/input|select|textarea/i.test(b.tagName)&&serial(b,a),d(b,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var a={};return eachFormElement.apply(function(b,c){b in a?(a[b]&&!isArray(a[b])&&(a[b]=[a[b]]),a[b].push(c)):a[b]=c},arguments),a}function buildParams(a,b,c,d){var e,f,g,h=/\[\]$/;if(isArray(b))for(f=0;b&&f<b.length;f++)g=b[f],c||h.test(a)?d(a,g):buildParams(a+"["+("object"==typeof g?f:"")+"]",g,c,d);else if(b&&"[object Object]"===b.toString())for(e in b)buildParams(a+"["+e+"]",b[e],c,d);else d(a,b)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=require("xhr2")}catch(a){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(a){return a instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(a){if(a.crossOrigin===!0){var b=context[xmlHttpRequest]?new XMLHttpRequest:null;if(b&&"withCredentials"in b)return b;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(a){return a}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(a,b){return a=a||function(){},b=b||function(){},this._fulfilled?this._responseArgs.resp=a(this._responseArgs.resp):this._erred?b(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(a),this._errorHandlers.push(b)),this},always:function(a){return this._fulfilled||this._erred?a(this._responseArgs.resp):this._completeHandlers.push(a),this},fail:function(a){return this._erred?a(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(a),this},catch:function(a){return this.fail(a)}},reqwest.serializeArray=function(){var a=[];return eachFormElement.apply(function(b,c){a.push({name:b,value:c})},arguments),a},reqwest.serialize=function(){if(0===arguments.length)return"";var a,b,c=Array.prototype.slice.call(arguments,0);return a=c.pop(),a&&a.nodeType&&c.push(a)&&(a=null),a&&(a=a.type),b="map"==a?serializeHash:"array"==a?reqwest.serializeArray:serializeQueryString,b.apply(null,c)},reqwest.toQueryString=function(a,b){var c,d,e=b||!1,f=[],g=encodeURIComponent,h=function(a,b){b="function"==typeof b?b():null==b?"":b,f[f.length]=g(a)+"="+g(b)};if(isArray(a))for(d=0;a&&d<a.length;d++)h(a[d].name,a[d].value);else for(c in a)a.hasOwnProperty(c)&&buildParams(c,a[c],e,h);return f.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(a,b){return a&&(a.type&&(a.method=a.type)&&delete a.type,a.dataType&&(a.type=a.dataType),a.jsonpCallback&&(a.jsonpCallbackName=a.jsonpCallback)&&delete a.jsonpCallback,a.jsonp&&(a.jsonpCallback=a.jsonp)),new Reqwest(a,b)},reqwest.ajaxSetup=function(a){a=a||{};for(var b in a)globalSetupOptions[b]=a[b]},reqwest});var GUGGY_IMAGE="data:image/png;base64,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",TEXT2GIF_URL="https://guggy-gif2text-server.herokuapp.com/guggify",EXTRACT_MEDIA_URL="https://guggy-gif2text-server.herokuapp.com/extractMedia",Utils={getEl:function(a){var b=null;return b=a.target?3===a.target.nodeType?a.target.parentNode:a.target:a.srcElement},getRect:function(a){var b=0,c=0,d=a.getBoundingClientRect();if(a.offsetParent){do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent)}else b=0,c=0;return{left:b,top:c,width:d.width,height:d.height}},hideElement:function(a){a.style.display="none"},showElement:function(a){a.style.display=""},applyStyle:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a.style[c]=b[c])},VerticalOrientation:{TOP:"TOP",MIDDLE:"MIDDLE",BOTTOM:"BOTTOM"},HorizontalOrientation:{RIGHT:"RIGHT",CENTER:"CENTER",LEFT:"LEFT"},positionElementToAnchor:function(a,b,c,d){var h,i,e=this.getRect(a),f=this.getRect(b),g=4;switch(d){case this.HorizontalOrientation.LEFT:h=f.left-e.width-g;break;case this.HorizontalOrientation.CENTER:h=f.left+b.width/2-e.width/2;break;case this.HorizontalOrientation.RIGHT:h=f.left+f.width+g}switch(c){case this.VerticalOrientation.TOP:i=f.top-f.height-e.height/2-g;break;case this.VerticalOrientation.MIDDLE:i=f.top+f.height/2-e.height/2;break;case this.VerticalOrientation.BOTTOM:i=f.top+f.height+g}var j=self.innerWidth,k=j-e.width-g;return h=Math.min(h,k),h=Math.max(h,g),{x:h,y:i}},post:function(a,b,c,d){reqwest({url:a,data:JSON.stringify(b),type:"json",method:"post",headers:c,error:function(a){d(null,a)},success:d})},isDescendant:function(a,b){for(var c=b.parentNode;null!=c;){if(c===a)return!0;c=c.parentNode}return!1},debounce:function(a,b,c){var f,g,d=function(a,b){return b=null==b?a.length-1:+b,function(){for(var c=Math.max(arguments.length-b,0),d=Array(c),e=0;e<c;e++)d[e]=arguments[e+b];switch(b){case 0:return a.call(this,d);case 1:return a.call(this,arguments[0],d);case 2:return a.call(this,arguments[0],arguments[1],d)}var f=Array(b+1);for(e=0;e<b;e++)f[e]=arguments[e];return f[b]=d,a.apply(this,f)}},e=d(function(a,b,c){return setTimeout(function(){return a.apply(null,c)},b)}),h=function(b,c){f=null,c&&(g=a.apply(b,c))},i=d(function(d){if(f&&clearTimeout(f),c){var i=!f;f=setTimeout(h,b),i&&(g=a.apply(this,d))}else f=e(h,b,this,d);return g});return i.cancel=function(){clearTimeout(f),f=null},i}},Animation={animate:function(a){var b=new Date,c=setInterval(function(){var d=new Date-b,e=a.modifier||1,f=d/a.duration*e;a.loop&&(f%=1),f>1&&(f=1);var g=a.delta(f);a.step(g),1==f&&(clearInterval(c),a.onComplete&&a.onComplete())},a.delay||10);return function(){clearInterval(c),a.step(0)}},rotate:function(a){var b=360;return this.animate({delay:10,duration:1e3,delta:function(a){return a},loop:!0,step:function(c){a.style.transform="rotate("+b*c%b+"deg)"}})}},Guggy={VERSION:1.1,init:function(a){this.apiKey=a.apiKey,this.retrieveTextFunction=a.retrieveTextFunction,this.onSelectFunction=a.onSelectFunction,this.showPreview=a.showPreview,this.onSuccess=a.onSuccess,this.onStart=a.onStart,this.typeMode=a.typeMode,this.extractMediaResult={lastString:"",lastHash:"",request:{}},this.onType=debounce(this._onType,200),this.isInitialized=!0},_extractMedia:function(a,b){Guggy.isInitialized?Utils.post(EXTRACT_MEDIA_URL,{sentence:a,noTranslation:!0,mediaItemsToExtract:1},{"Content-Type":"application/json",apiKey:this.apiKey},function(a,c){c?b(null,c):(this.lastResult=a,b(a))}.bind(this)):console.error("Guggy was not initialized")},_onType:function(a,b){a.trim()!=this.extractMediaResult.lastString&&a.trim().length>0&&(this.extractMediaResult.lastString=a.trim(),this._extractMedia(a,function(a){var c=a.media[0];this.extractMediaResult.lastHash!=a.hash?(this.extractMediaResult.lastHash=a.hash,this.extractMediaResult.request={reqId:a.reqId,predefinedSource:{canvasDimensions:{width:c.dimensions.width,height:c.dimensions.height},url:c.url,isStillImage:!1},format:"gif"},b(a.reqId,c)):b()}.bind(this)))},createGug:function(a,b){Guggy.isInitialized?(this.onStart&&this.onStart(),Utils.post(TEXT2GIF_URL,a,{"Content-Type":"application/json",apiKey:this.apiKey},function(a,c){c?b(null,c):(this.lastResult=a,b(a))}.bind(this))):console.error("Guggy was not initialized")}},GuggyOverlay={element:document.createElement("div"),imgElement:document.createElement("img"),init:function(){Utils.applyStyle(this.element,{position:"absolute",zIndex:99999999,padding:"10px",borderRadius:"10px",backgroundColor:"#282828",display:"none"}),this.element.appendChild(this.imgElement),Utils.applyStyle(this.imgElement,{verticalAlign:"middle"}),this.imgElement.addEventListener("click",function(){Guggy.onSelectFunction&&Guggy.onSelectFunction(Guggy.lastResult)})},setURL:function(a){this.imgElement.src="",this.imgElement.src=a.gif;var b=a.width/200;Utils.applyStyle(this.imgElement,{width:a.width/b+"px",height:a.height/b+"px"}),this.show();var c=Utils.positionElementToAnchor(this.element,GuggyButton.element,Utils.VerticalOrientation.BOTTOM,Utils.HorizontalOrientation.CENTER);Utils.applyStyle(this.element,{left:c.x+"px",top:c.y+"px"})},hide:function(){Utils.hideElement(this.element)},show:function(){Utils.showElement(this.element)}},GuggyButton={element:document.createElement("img"),init:function(){Utils.applyStyle(this.element,{cursor:"pointer"}),this.element.src=GUGGY_IMAGE,this.element.id="guggy_button",document.body.appendChild(GuggyOverlay.element),document.addEventListener("click",function(a){var b=Utils.getEl(a),c=Utils.isDescendant(GuggyOverlay.element,b)||b===GuggyOverlay.element;c||GuggyOverlay.hide()}),this.element.addEventListener("click",this.onClick.bind(this))},hide:function(){GuggyOverlay.hide(),Utils.hideElement(this.element)},show:function(){Utils.showElement(this.element)},onClick:function(){if(!this.isLoading){this.show();var a,b=Guggy.retrieveTextFunction();if(Guggy.typeMode?(a=Guggy.extractMediaResult.request,a.sentence=b):b&&b.trim().length>0&&(a={sentence:b,format:"gif"}),a){var c=Animation.rotate(this.element);this.isLoading=!0,Guggy.createGug(a,function(a){this.isLoading=!1,c(),a&&(Guggy.showPreview?GuggyOverlay.setURL(a):Guggy.onSuccess&&Guggy.onSuccess(a))}.bind(this))}}}};GuggyButton.init(),GuggyOverlay.init(),Guggy.GuggyButton=GuggyButton.element,Guggy.Utils=Utils,Guggy.Animation=Animation,window.Guggy=Guggy}();